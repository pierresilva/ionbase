{"version":3,"sources":["./src/app/barcode-scanner/barcode-scanner-modal/barcode-scanner-modal.component.html","./src/app/barcode-scanner/barcode-scanner.page.html","./src/app/barcode-scanner/barcode-scanner-modal/barcode-scanner-modal.component.scss","./src/app/barcode-scanner/barcode-scanner-modal/barcode-scanner-modal.component.ts","./src/app/barcode-scanner/barcode-scanner-routing.module.ts","./src/app/barcode-scanner/barcode-scanner.module.ts","./src/app/barcode-scanner/barcode-scanner.page.scss","./src/app/barcode-scanner/barcode-scanner.page.ts"],"names":[],"mappings":"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","file":"barcode-scanner-barcode-scanner-module-es2015.js","sourcesContent":["export default \"<zxing-scanner [torch]=\\\"torchEnabled\\\"\\n               [(device)]=\\\"currentDevice\\\"\\n               (scanSuccess)=\\\"onCodeResult($event)\\\"\\n               [formats]=\\\"formatsEnabled\\\"\\n               [tryHarder]=\\\"tryHarder\\\"\\n               (permissionResponse)=\\\"onHasPermission($event)\\\"\\n               (camerasFound)=\\\"onCamerasFound($event)\\\"\\n               (torchCompatible)=\\\"onTorchCompatible($event)\\\"></zxing-scanner>\\n\";","export default \"<app-main-header title=\\\"BarCode Scanner\\\"></app-main-header>\\n\\n<ion-content>\\n\\n    <zxing-scanner *ngIf=\\\"browserScanner\\\"\\n                   [(device)]=\\\"currentDevice\\\"\\n                   [formats]=\\\"formatsEnabled\\\"\\n                   (scanError)=\\\"onCodeError($event)\\\"\\n                   (scanSuccess)=\\\"onCodeResult($event)\\\"></zxing-scanner>\\n\\n    <p>\\n        <ion-button (click)=\\\"scan()\\\"\\n                    fill=\\\"clear\\\">Escanear QR\\n            <ion-icon slot=\\\"end\\\" name=\\\"qr-code-outline\\\"></ion-icon>\\n        </ion-button>\\n    </p>\\n    <pre>\\n{{barcodeData | json}}\\n</pre>\\n\\n</ion-content>\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2JhcmNvZGUtc2Nhbm5lci9iYXJjb2RlLXNjYW5uZXItbW9kYWwvYmFyY29kZS1zY2FubmVyLW1vZGFsLmNvbXBvbmVudC5zY3NzIn0= */\";","import {Component, OnInit, ViewChild} from '@angular/core';\nimport { BarcodeFormat } from '@zxing/library';\nimport { BehaviorSubject } from 'rxjs';\n\n@Component({\n    selector: 'app-barcode-scanner-modal',\n    templateUrl: './barcode-scanner-modal.component.html',\n    styleUrls: ['./barcode-scanner-modal.component.scss'],\n})\nexport class BarcodeScannerModalComponent implements OnInit {\n\n    availableDevices: MediaDeviceInfo[];\n    currentDevice: MediaDeviceInfo = null;\n\n    formatsEnabled: BarcodeFormat[] = [\n        BarcodeFormat.CODE_128,\n        BarcodeFormat.DATA_MATRIX,\n        BarcodeFormat.EAN_13,\n        BarcodeFormat.QR_CODE,\n        BarcodeFormat.PDF_417,\n    ];\n\n    hasDevices: boolean;\n    hasPermission: boolean;\n\n    qrResultString: string;\n\n    torchEnabled = false;\n    torchAvailable$ = new BehaviorSubject<boolean>(false);\n    tryHarder = false;\n\n    qrScanned = false;\n\n    constructor() {\n    }\n\n    ngOnInit() {\n    }\n\n    clearResult(): void {\n        this.qrResultString = null;\n    }\n\n    onCamerasFound(devices: MediaDeviceInfo[]): void {\n        this.availableDevices = devices;\n        this.hasDevices = Boolean(devices && devices.length);\n    }\n\n    onCodeResult(resultString: string) {\n        console.log(resultString, this.qrResultString, this.qrScanned);\n    }\n\n    onDeviceSelectChange(selected: any) {\n        const device = this.availableDevices.find(x => x.deviceId === selected.target.value);\n        this.currentDevice = device || null;\n    }\n\n    onHasPermission(has: boolean) {\n        this.hasPermission = has;\n    }\n\n    onTorchCompatible(isCompatible: boolean): void {\n        this.torchAvailable$.next(isCompatible || false);\n    }\n\n    toggleTorch(): void {\n        this.torchEnabled = !this.torchEnabled;\n    }\n\n    toggleTryHarder(): void {\n        this.tryHarder = !this.tryHarder;\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BarcodeScannerPage } from './barcode-scanner.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BarcodeScannerPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BarcodeScannerPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BarcodeScannerPageRoutingModule } from './barcode-scanner-routing.module';\n\nimport { BarcodeScannerPage } from './barcode-scanner.page';\nimport {SharedModule} from '../@shared/shared.module';\nimport {BarcodeScannerModalComponent} from \"./barcode-scanner-modal/barcode-scanner-modal.component\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BarcodeScannerPageRoutingModule,\n    SharedModule,\n  ],\n  declarations: [\n      BarcodeScannerPage,\n      BarcodeScannerModalComponent,\n  ]\n})\nexport class BarcodeScannerPageModule {}\n","export default \"#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYmFyY29kZS1zY2FubmVyL2JhcmNvZGUtc2Nhbm5lci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxRQUFBO0VBQ0EsMkJBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLFNBQUE7QUFDRjs7QUFFQTtFQUNFLHFCQUFBO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9iYXJjb2RlLXNjYW5uZXIvYmFyY29kZS1zY2FubmVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNjb250YWluZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIHRvcDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG59XG5cbiNjb250YWluZXIgc3Ryb25nIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBsaW5lLWhlaWdodDogMjZweDtcbn1cblxuI2NvbnRhaW5lciBwIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBsaW5lLWhlaWdodDogMjJweDtcbiAgY29sb3I6ICM4YzhjOGM7XG4gIG1hcmdpbjogMDtcbn1cblxuI2NvbnRhaW5lciBhIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xufVxuIl19 */\";","import {Component, OnInit} from '@angular/core';\nimport {BarcodeScanner} from '@ionic-native/barcode-scanner/ngx';\nimport {ModalController, Platform} from \"@ionic/angular\";\nimport {BarcodeScannerModalComponent} from \"./barcode-scanner-modal/barcode-scanner-modal.component\";\nimport {BarcodeFormat} from \"@zxing/library\";\nimport {SplitPanelService} from \"../@shared/services/split-panel.service\";\n\n\n@Component({\n    selector: 'app-barcode-scanner',\n    templateUrl: './barcode-scanner.page.html',\n    styleUrls: ['./barcode-scanner.page.scss'],\n})\nexport class BarcodeScannerPage implements OnInit {\n\n    public barcodeData: any;\n    public browserScanner = false;\n    public currentDevice: MediaDeviceInfo = null;\n    public formatsEnabled: BarcodeFormat[] = [\n        BarcodeFormat.CODE_128,\n        BarcodeFormat.DATA_MATRIX,\n        BarcodeFormat.EAN_13,\n        BarcodeFormat.QR_CODE,\n        BarcodeFormat.PDF_417,\n    ];\n\n    constructor(\n        private barcodeScanner: BarcodeScanner,\n        public platform: Platform,\n        public modalController: ModalController,\n        public splitPanel: SplitPanelService,\n    ) {\n\n    }\n\n    ngOnInit() {\n    }\n\n    ionViewWillEnter() {\n        this.splitPanel.show.next(true);\n    }\n\n    scan() {\n        if (this.platform.is('desktop')) {\n            this.desktopScan();\n        }\n        if (this.platform.is('mobile')) {\n            this.mobileScan();\n        }\n    }\n\n    mobileScan() {\n        this.barcodeScanner.scan().then(barcodeData => {\n            console.log('Barcode data', barcodeData);\n            this.barcodeData = barcodeData;\n        }).catch(err => {\n            console.log('Error', err);\n        });\n    }\n\n    desktopScan() {\n        this.browserScanner = true;\n    }\n\n    dismiss() {\n        // using the injected ModalController this page\n        // can \"dismiss\" itself and optionally pass back data\n        this.modalController.dismiss({\n            'dismissed': true\n        });\n    }\n\n    onCodeResult(resultString: string) {\n        this.barcodeData = {\n            canceled: null,\n            text: resultString,\n            format: null,\n        }\n        this.browserScanner = false;\n        console.log(this.barcodeData);\n    }\n\n    onCodeError(err: any = null) {\n        this.barcodeData = {\n            canceled: null,\n            text: null,\n            format: null,\n        }\n        this.browserScanner = false;\n        console.log(err);\n    }\n\n}\n"],"sourceRoot":"webpack:///"}