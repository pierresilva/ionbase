<ion-header translucent>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-button (click)="dismissModal()">
                Cancelar
            </ion-button>
        </ion-buttons>
        <ion-title>Factura de parqueadero</ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="toPrint('invoice-POS')">
                Imprimir
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content fullscreen>
    <div class="printable-content"
         style="margin-left: calc(50% - 37mm);">
        <div id="invoice-POS">

            <div id="top">
                <!--                <img height="40mm" src="http://michaeltruong.ca/images/logo1.png">-->
                <div class="info">
                    <h1>NOMBRE DEL CONJUNTO</h1>
                    <h2>NIT: 900.882.422-3</h2>
                    <h2>Calle 33 # 55-26</h2>
                    <h2 style="text-align: left; padding-top: 8px;">Factura #: {{invoice.number | zeroLeading:6}}</h2>
                </div><!--End Info-->
            </div><!--End InvoiceTop-->

            <div id="mid">
                <div class="info">
                    <h2 style="text-align: left;">Cliente</h2>
                    <p style="text-align: left;">
                        Nombre : {{invoice.firstname}} {{invoice.lastname}}<br>
                        Documento : {{invoice.document_type}} {{invoice.document}}<br>
                        Email : {{invoice.visitor.email}}<br>
                        Phone : {{invoice.visitor.phone}}<br>
                        Ingreso : {{invoice.register.entry_date | dateFormat:'DD/MM/YY HH:MM'}}<br>
                        Salida : {{invoice.register.departure_date | dateFormat:'DD/MM/YY HH:MM'}}<br>
                        Vehículo : {{invoice.register.license_plate}}
                    </p>
                </div>
            </div><!--End Invoice Mid-->

            <div id="bot">

                <div id="table">
                    <table>
                        <tr class="tabletitle">
                            <td class="item"><h2>Item</h2></td>
                            <td class="Hours"><h2>Cnt</h2></td>
                            <td class="rate"><h2>Sub Total</h2></td>
                        </tr>

                        <tr class="service" *ngFor="let product of invoice.products">
                            <td class="tableitem"><p class="itemtext">{{product.product}}</p></td>
                            <td class="tableitem"><p class="itemtext">{{product.quantity}}</p></td>
                            <td class="tableitem"><p class="itemtext">{{product.subtotal | number:'':'es-CO'}}</p></td>
                        </tr>


                        <tr class="tabletitle">
                            <td></td>
                            <td class="Rate"><h2>IVA</h2></td>
                            <td class="payment"><h2>${{(invoice.iva ? (invoice.iva | number:'':'es-CO') : 0)}}</h2></td>
                        </tr>

                        <tr class="tabletitle">
                            <td></td>
                            <td class="Rate"><h2>TOTAL</h2></td>
                            <td class="payment"><h2>${{invoice.total | number:'':'es-CO'}}</h2></td>
                        </tr>

                    </table>
                </div><!--End Table-->

                <div id="legalcopy">
                    <p class="legal"
                       style="text-align: left;">
                        <strong>Gracias por usar nuestros servicios!</strong>
                        <br>
                        Autorización de numeración de facturación DIAN ({{invoice.resolution.type}}) #{{invoice.resolution.number | number:'':'es-CO'}}<br>
                        Rango desde {{invoice.resolution.initial | number:'':'es-CO'}} hasta {{invoice.resolution.final | number:'':'es-CO'}} por {{invoice.resolution.months}} meses<br>
                    </p>
                </div>

            </div><!--End InvoiceBot-->
        </div><!--End Invoice-->
    </div>
</ion-content>
