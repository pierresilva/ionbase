{"version":3,"sources":["webpack:///src/app/barcode-scanner/barcode-scanner-modal/barcode-scanner-modal.component.html","webpack:///src/app/barcode-scanner/barcode-scanner.page.html","webpack:///src/app/barcode-scanner/barcode-scanner-modal/barcode-scanner-modal.component.scss","webpack:///src/app/barcode-scanner/barcode-scanner-modal/barcode-scanner-modal.component.ts","webpack:///src/app/barcode-scanner/barcode-scanner-routing.module.ts","webpack:///src/app/barcode-scanner/barcode-scanner.module.ts","webpack:///src/app/barcode-scanner/barcode-scanner.page.scss","webpack:///src/app/barcode-scanner/barcode-scanner.page.ts"],"names":["BarcodeScannerModalComponent","currentDevice","formatsEnabled","CODE_128","DATA_MATRIX","EAN_13","QR_CODE","PDF_417","torchEnabled","torchAvailable$","tryHarder","qrScanned","qrResultString","devices","availableDevices","hasDevices","Boolean","length","resultString","console","log","selected","device","find","x","deviceId","target","value","has","hasPermission","isCompatible","next","selector","template","routes","path","component","BarcodeScannerPageRoutingModule","imports","forChild","exports","BarcodeScannerPageModule","declarations","BarcodeScannerPage","barcodeScanner","platform","modalController","splitPanel","browserScanner","show","is","desktopScan","mobileScan","scan","then","barcodeData","err","dismiss","canceled","text","format"],"mappings":"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","file":"barcode-scanner-barcode-scanner-module-es5.js","sourcesContent":["export default \"<zxing-scanner [torch]=\\\"torchEnabled\\\"\\n               [(device)]=\\\"currentDevice\\\"\\n               (scanSuccess)=\\\"onCodeResult($event)\\\"\\n               [formats]=\\\"formatsEnabled\\\"\\n               [tryHarder]=\\\"tryHarder\\\"\\n               (permissionResponse)=\\\"onHasPermission($event)\\\"\\n               (camerasFound)=\\\"onCamerasFound($event)\\\"\\n               (torchCompatible)=\\\"onTorchCompatible($event)\\\"></zxing-scanner>\\n\";","export default \"<app-main-header title=\\\"BarCode Scanner\\\"></app-main-header>\\n\\n<ion-content>\\n\\n    <zxing-scanner *ngIf=\\\"browserScanner\\\"\\n                   [(device)]=\\\"currentDevice\\\"\\n                   [formats]=\\\"formatsEnabled\\\"\\n                   (scanError)=\\\"onCodeError($event)\\\"\\n                   (scanSuccess)=\\\"onCodeResult($event)\\\"></zxing-scanner>\\n\\n    <p>\\n        <ion-button (click)=\\\"scan()\\\"\\n                    fill=\\\"clear\\\">Escanear QR\\n            <ion-icon slot=\\\"end\\\" name=\\\"qr-code-outline\\\"></ion-icon>\\n        </ion-button>\\n    </p>\\n    <pre>\\n{{barcodeData | json}}\\n</pre>\\n\\n</ion-content>\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2JhcmNvZGUtc2Nhbm5lci9iYXJjb2RlLXNjYW5uZXItbW9kYWwvYmFyY29kZS1zY2FubmVyLW1vZGFsLmNvbXBvbmVudC5zY3NzIn0= */\";","import {Component, OnInit, ViewChild} from '@angular/core';\nimport { BarcodeFormat } from '@zxing/library';\nimport { BehaviorSubject } from 'rxjs';\n\n@Component({\n    selector: 'app-barcode-scanner-modal',\n    templateUrl: './barcode-scanner-modal.component.html',\n    styleUrls: ['./barcode-scanner-modal.component.scss'],\n})\nexport class BarcodeScannerModalComponent implements OnInit {\n\n    availableDevices: MediaDeviceInfo[];\n    currentDevice: MediaDeviceInfo = null;\n\n    formatsEnabled: BarcodeFormat[] = [\n        BarcodeFormat.CODE_128,\n        BarcodeFormat.DATA_MATRIX,\n        BarcodeFormat.EAN_13,\n        BarcodeFormat.QR_CODE,\n        BarcodeFormat.PDF_417,\n    ];\n\n    hasDevices: boolean;\n    hasPermission: boolean;\n\n    qrResultString: string;\n\n    torchEnabled = false;\n    torchAvailable$ = new BehaviorSubject<boolean>(false);\n    tryHarder = false;\n\n    qrScanned = false;\n\n    constructor() {\n    }\n\n    ngOnInit() {\n    }\n\n    clearResult(): void {\n        this.qrResultString = null;\n    }\n\n    onCamerasFound(devices: MediaDeviceInfo[]): void {\n        this.availableDevices = devices;\n        this.hasDevices = Boolean(devices && devices.length);\n    }\n\n    onCodeResult(resultString: string) {\n        console.log(resultString, this.qrResultString, this.qrScanned);\n    }\n\n    onDeviceSelectChange(selected: any) {\n        const device = this.availableDevices.find(x => x.deviceId === selected.target.value);\n        this.currentDevice = device || null;\n    }\n\n    onHasPermission(has: boolean) {\n        this.hasPermission = has;\n    }\n\n    onTorchCompatible(isCompatible: boolean): void {\n        this.torchAvailable$.next(isCompatible || false);\n    }\n\n    toggleTorch(): void {\n        this.torchEnabled = !this.torchEnabled;\n    }\n\n    toggleTryHarder(): void {\n        this.tryHarder = !this.tryHarder;\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BarcodeScannerPage } from './barcode-scanner.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BarcodeScannerPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BarcodeScannerPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BarcodeScannerPageRoutingModule } from './barcode-scanner-routing.module';\n\nimport { BarcodeScannerPage } from './barcode-scanner.page';\nimport {SharedModule} from '../@shared/shared.module';\nimport {BarcodeScannerModalComponent} from \"./barcode-scanner-modal/barcode-scanner-modal.component\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BarcodeScannerPageRoutingModule,\n    SharedModule,\n  ],\n  declarations: [\n      BarcodeScannerPage,\n      BarcodeScannerModalComponent,\n  ]\n})\nexport class BarcodeScannerPageModule {}\n","export default \"#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYmFyY29kZS1zY2FubmVyL2JhcmNvZGUtc2Nhbm5lci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxRQUFBO0VBQ0EsMkJBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLFNBQUE7QUFDRjs7QUFFQTtFQUNFLHFCQUFBO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9iYXJjb2RlLXNjYW5uZXIvYmFyY29kZS1zY2FubmVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNjb250YWluZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIHRvcDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG59XG5cbiNjb250YWluZXIgc3Ryb25nIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBsaW5lLWhlaWdodDogMjZweDtcbn1cblxuI2NvbnRhaW5lciBwIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBsaW5lLWhlaWdodDogMjJweDtcbiAgY29sb3I6ICM4YzhjOGM7XG4gIG1hcmdpbjogMDtcbn1cblxuI2NvbnRhaW5lciBhIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xufVxuIl19 */\";","import {Component, OnInit} from '@angular/core';\nimport {BarcodeScanner} from '@ionic-native/barcode-scanner/ngx';\nimport {ModalController, Platform} from \"@ionic/angular\";\nimport {BarcodeScannerModalComponent} from \"./barcode-scanner-modal/barcode-scanner-modal.component\";\nimport {BarcodeFormat} from \"@zxing/library\";\nimport {SplitPanelService} from \"../@shared/services/split-panel.service\";\n\n\n@Component({\n    selector: 'app-barcode-scanner',\n    templateUrl: './barcode-scanner.page.html',\n    styleUrls: ['./barcode-scanner.page.scss'],\n})\nexport class BarcodeScannerPage implements OnInit {\n\n    public barcodeData: any;\n    public browserScanner = false;\n    public currentDevice: MediaDeviceInfo = null;\n    public formatsEnabled: BarcodeFormat[] = [\n        BarcodeFormat.CODE_128,\n        BarcodeFormat.DATA_MATRIX,\n        BarcodeFormat.EAN_13,\n        BarcodeFormat.QR_CODE,\n        BarcodeFormat.PDF_417,\n    ];\n\n    constructor(\n        private barcodeScanner: BarcodeScanner,\n        public platform: Platform,\n        public modalController: ModalController,\n        public splitPanel: SplitPanelService,\n    ) {\n\n    }\n\n    ngOnInit() {\n    }\n\n    ionViewWillEnter() {\n        this.splitPanel.show.next(true);\n    }\n\n    scan() {\n        if (this.platform.is('desktop')) {\n            this.desktopScan();\n        }\n        if (this.platform.is('mobile')) {\n            this.mobileScan();\n        }\n    }\n\n    mobileScan() {\n        this.barcodeScanner.scan().then(barcodeData => {\n            console.log('Barcode data', barcodeData);\n            this.barcodeData = barcodeData;\n        }).catch(err => {\n            console.log('Error', err);\n        });\n    }\n\n    desktopScan() {\n        this.browserScanner = true;\n    }\n\n    dismiss() {\n        // using the injected ModalController this page\n        // can \"dismiss\" itself and optionally pass back data\n        this.modalController.dismiss({\n            'dismissed': true\n        });\n    }\n\n    onCodeResult(resultString: string) {\n        this.barcodeData = {\n            canceled: null,\n            text: resultString,\n            format: null,\n        }\n        this.browserScanner = false;\n        console.log(this.barcodeData);\n    }\n\n    onCodeError(err: any = null) {\n        this.barcodeData = {\n            canceled: null,\n            text: null,\n            format: null,\n        }\n        this.browserScanner = false;\n        console.log(err);\n    }\n\n}\n"]}