{"version":3,"sources":["webpack:///src/app/barcode-scanner/barcode-scanner-modal/barcode-scanner-modal.component.html","webpack:///src/app/barcode-scanner/barcode-scanner.page.html","webpack:///src/app/barcode-scanner/barcode-scanner-modal/barcode-scanner-modal.component.scss","webpack:///src/app/barcode-scanner/barcode-scanner-modal/barcode-scanner-modal.component.ts","webpack:///src/app/barcode-scanner/barcode-scanner-routing.module.ts","webpack:///src/app/barcode-scanner/barcode-scanner.module.ts","webpack:///src/app/barcode-scanner/barcode-scanner.page.scss","webpack:///src/app/barcode-scanner/barcode-scanner.page.ts"],"names":["BarcodeScannerModalComponent","currentDevice","formatsEnabled","CODE_128","DATA_MATRIX","EAN_13","QR_CODE","PDF_417","torchEnabled","torchAvailable$","tryHarder","qrScanned","qrResultString","devices","availableDevices","hasDevices","Boolean","length","resultString","console","log","selected","device","find","x","deviceId","target","value","has","hasPermission","isCompatible","next","selector","template","routes","path","component","BarcodeScannerPageRoutingModule","imports","forChild","exports","BarcodeScannerPageModule","declarations","BarcodeScannerPage","barcodeScanner","platform","modalController","splitPanel","browserScanner","show","is","desktopScan","mobileScan","scan","then","barcodeData","err","dismiss","canceled","text","format"],"mappings":"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","file":"barcode-scanner-barcode-scanner-module-es5.js","sourcesContent":["export default \"<zxing-scanner [torch]=\\\"torchEnabled\\\"\\r\\n               [(device)]=\\\"currentDevice\\\"\\r\\n               (scanSuccess)=\\\"onCodeResult($event)\\\"\\r\\n               [formats]=\\\"formatsEnabled\\\"\\r\\n               [tryHarder]=\\\"tryHarder\\\"\\r\\n               (permissionResponse)=\\\"onHasPermission($event)\\\"\\r\\n               (camerasFound)=\\\"onCamerasFound($event)\\\"\\r\\n               (torchCompatible)=\\\"onTorchCompatible($event)\\\"></zxing-scanner>\\r\\n\";","export default \"<app-main-header title=\\\"BarCode Scanner\\\"></app-main-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n    <zxing-scanner *ngIf=\\\"browserScanner\\\"\\r\\n                   [(device)]=\\\"currentDevice\\\"\\r\\n                   [formats]=\\\"formatsEnabled\\\"\\r\\n                   (scanError)=\\\"onCodeError($event)\\\"\\r\\n                   (scanSuccess)=\\\"onCodeResult($event)\\\"></zxing-scanner>\\r\\n\\r\\n    <p>\\r\\n        <ion-button (click)=\\\"scan()\\\"\\r\\n                    fill=\\\"clear\\\">Escanear QR\\r\\n            <ion-icon slot=\\\"end\\\" name=\\\"qr-code-outline\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n    </p>\\r\\n    <pre>\\r\\n{{barcodeData | json}}\\r\\n</pre>\\r\\n\\r\\n</ion-content>\\r\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2JhcmNvZGUtc2Nhbm5lci9iYXJjb2RlLXNjYW5uZXItbW9kYWwvYmFyY29kZS1zY2FubmVyLW1vZGFsLmNvbXBvbmVudC5zY3NzIn0= */\";","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport { BarcodeFormat } from '@zxing/library';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'app-barcode-scanner-modal',\r\n    templateUrl: './barcode-scanner-modal.component.html',\r\n    styleUrls: ['./barcode-scanner-modal.component.scss'],\r\n})\r\nexport class BarcodeScannerModalComponent implements OnInit {\r\n\r\n    availableDevices: MediaDeviceInfo[];\r\n    currentDevice: MediaDeviceInfo = null;\r\n\r\n    formatsEnabled: BarcodeFormat[] = [\r\n        BarcodeFormat.CODE_128,\r\n        BarcodeFormat.DATA_MATRIX,\r\n        BarcodeFormat.EAN_13,\r\n        BarcodeFormat.QR_CODE,\r\n        BarcodeFormat.PDF_417,\r\n    ];\r\n\r\n    hasDevices: boolean;\r\n    hasPermission: boolean;\r\n\r\n    qrResultString: string;\r\n\r\n    torchEnabled = false;\r\n    torchAvailable$ = new BehaviorSubject<boolean>(false);\r\n    tryHarder = false;\r\n\r\n    qrScanned = false;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    clearResult(): void {\r\n        this.qrResultString = null;\r\n    }\r\n\r\n    onCamerasFound(devices: MediaDeviceInfo[]): void {\r\n        this.availableDevices = devices;\r\n        this.hasDevices = Boolean(devices && devices.length);\r\n    }\r\n\r\n    onCodeResult(resultString: string) {\r\n        console.log(resultString, this.qrResultString, this.qrScanned);\r\n    }\r\n\r\n    onDeviceSelectChange(selected: any) {\r\n        const device = this.availableDevices.find(x => x.deviceId === selected.target.value);\r\n        this.currentDevice = device || null;\r\n    }\r\n\r\n    onHasPermission(has: boolean) {\r\n        this.hasPermission = has;\r\n    }\r\n\r\n    onTorchCompatible(isCompatible: boolean): void {\r\n        this.torchAvailable$.next(isCompatible || false);\r\n    }\r\n\r\n    toggleTorch(): void {\r\n        this.torchEnabled = !this.torchEnabled;\r\n    }\r\n\r\n    toggleTryHarder(): void {\r\n        this.tryHarder = !this.tryHarder;\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { BarcodeScannerPage } from './barcode-scanner.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BarcodeScannerPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class BarcodeScannerPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { BarcodeScannerPageRoutingModule } from './barcode-scanner-routing.module';\r\n\r\nimport { BarcodeScannerPage } from './barcode-scanner.page';\r\nimport {SharedModule} from '../@shared/shared.module';\r\nimport {BarcodeScannerModalComponent} from \"./barcode-scanner-modal/barcode-scanner-modal.component\";\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    BarcodeScannerPageRoutingModule,\r\n    SharedModule,\r\n  ],\r\n  declarations: [\r\n      BarcodeScannerPage,\r\n      BarcodeScannerModalComponent,\r\n  ]\r\n})\r\nexport class BarcodeScannerPageModule {}\r\n","export default \"#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYmFyY29kZS1zY2FubmVyL2JhcmNvZGUtc2Nhbm5lci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxRQUFBO0VBQ0EsMkJBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLFNBQUE7QUFDRjs7QUFFQTtFQUNFLHFCQUFBO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9iYXJjb2RlLXNjYW5uZXIvYmFyY29kZS1zY2FubmVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNjb250YWluZXIge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogMDtcclxuICByaWdodDogMDtcclxuICB0b3A6IDUwJTtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbn1cclxuXHJcbiNjb250YWluZXIgc3Ryb25nIHtcclxuICBmb250LXNpemU6IDIwcHg7XHJcbiAgbGluZS1oZWlnaHQ6IDI2cHg7XHJcbn1cclxuXHJcbiNjb250YWluZXIgcCB7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAyMnB4O1xyXG4gIGNvbG9yOiAjOGM4YzhjO1xyXG4gIG1hcmdpbjogMDtcclxufVxyXG5cclxuI2NvbnRhaW5lciBhIHtcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuIl19 */\";","import {Component, OnInit} from '@angular/core';\r\nimport {BarcodeScanner} from '@ionic-native/barcode-scanner/ngx';\r\nimport {ModalController, Platform} from \"@ionic/angular\";\r\nimport {BarcodeScannerModalComponent} from \"./barcode-scanner-modal/barcode-scanner-modal.component\";\r\nimport {BarcodeFormat} from \"@zxing/library\";\r\nimport {SplitPanelService} from \"../@shared/services/split-panel.service\";\r\n\r\n\r\n@Component({\r\n    selector: 'app-barcode-scanner',\r\n    templateUrl: './barcode-scanner.page.html',\r\n    styleUrls: ['./barcode-scanner.page.scss'],\r\n})\r\nexport class BarcodeScannerPage implements OnInit {\r\n\r\n    public barcodeData: any;\r\n    public browserScanner = false;\r\n    public currentDevice: MediaDeviceInfo = null;\r\n    public formatsEnabled: BarcodeFormat[] = [\r\n        BarcodeFormat.CODE_128,\r\n        BarcodeFormat.DATA_MATRIX,\r\n        BarcodeFormat.EAN_13,\r\n        BarcodeFormat.QR_CODE,\r\n        BarcodeFormat.PDF_417,\r\n    ];\r\n\r\n    constructor(\r\n        private barcodeScanner: BarcodeScanner,\r\n        public platform: Platform,\r\n        public modalController: ModalController,\r\n        public splitPanel: SplitPanelService,\r\n    ) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    ionViewWillEnter() {\r\n        this.splitPanel.show.next(true);\r\n    }\r\n\r\n    scan() {\r\n        if (this.platform.is('desktop')) {\r\n            this.desktopScan();\r\n        }\r\n        if (this.platform.is('mobile')) {\r\n            this.mobileScan();\r\n        }\r\n    }\r\n\r\n    mobileScan() {\r\n        this.barcodeScanner.scan().then(barcodeData => {\r\n            console.log('Barcode data', barcodeData);\r\n            this.barcodeData = barcodeData;\r\n        }).catch(err => {\r\n            console.log('Error', err);\r\n        });\r\n    }\r\n\r\n    desktopScan() {\r\n        this.browserScanner = true;\r\n    }\r\n\r\n    dismiss() {\r\n        // using the injected ModalController this page\r\n        // can \"dismiss\" itself and optionally pass back data\r\n        this.modalController.dismiss({\r\n            'dismissed': true\r\n        });\r\n    }\r\n\r\n    onCodeResult(resultString: string) {\r\n        this.barcodeData = {\r\n            canceled: null,\r\n            text: resultString,\r\n            format: null,\r\n        }\r\n        this.browserScanner = false;\r\n        console.log(this.barcodeData);\r\n    }\r\n\r\n    onCodeError(err: any = null) {\r\n        this.barcodeData = {\r\n            canceled: null,\r\n            text: null,\r\n            format: null,\r\n        }\r\n        this.browserScanner = false;\r\n        console.log(err);\r\n    }\r\n\r\n}\r\n"]}