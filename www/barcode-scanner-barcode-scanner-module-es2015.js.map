{"version":3,"sources":["./src/app/barcode-scanner/barcode-scanner-modal/barcode-scanner-modal.component.html","./src/app/barcode-scanner/barcode-scanner.page.html","./src/app/barcode-scanner/barcode-scanner-modal/barcode-scanner-modal.component.scss","./src/app/barcode-scanner/barcode-scanner-modal/barcode-scanner-modal.component.ts","./src/app/barcode-scanner/barcode-scanner-routing.module.ts","./src/app/barcode-scanner/barcode-scanner.module.ts","./src/app/barcode-scanner/barcode-scanner.page.scss","./src/app/barcode-scanner/barcode-scanner.page.ts"],"names":[],"mappings":"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","file":"barcode-scanner-barcode-scanner-module-es2015.js","sourcesContent":["export default \"<zxing-scanner [torch]=\\\"torchEnabled\\\"\\r\\n               [(device)]=\\\"currentDevice\\\"\\r\\n               (scanSuccess)=\\\"onCodeResult($event)\\\"\\r\\n               [formats]=\\\"formatsEnabled\\\"\\r\\n               [tryHarder]=\\\"tryHarder\\\"\\r\\n               (permissionResponse)=\\\"onHasPermission($event)\\\"\\r\\n               (camerasFound)=\\\"onCamerasFound($event)\\\"\\r\\n               (torchCompatible)=\\\"onTorchCompatible($event)\\\"></zxing-scanner>\\r\\n\";","export default \"<app-main-header title=\\\"BarCode Scanner\\\"></app-main-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n    <zxing-scanner *ngIf=\\\"browserScanner\\\"\\r\\n                   [(device)]=\\\"currentDevice\\\"\\r\\n                   [formats]=\\\"formatsEnabled\\\"\\r\\n                   (scanError)=\\\"onCodeError($event)\\\"\\r\\n                   (scanSuccess)=\\\"onCodeResult($event)\\\"></zxing-scanner>\\r\\n\\r\\n    <p>\\r\\n        <ion-button (click)=\\\"scan()\\\"\\r\\n                    fill=\\\"clear\\\">Escanear QR\\r\\n            <ion-icon slot=\\\"end\\\" name=\\\"qr-code-outline\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n    </p>\\r\\n    <pre>\\r\\n{{barcodeData | json}}\\r\\n</pre>\\r\\n\\r\\n</ion-content>\\r\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2JhcmNvZGUtc2Nhbm5lci9iYXJjb2RlLXNjYW5uZXItbW9kYWwvYmFyY29kZS1zY2FubmVyLW1vZGFsLmNvbXBvbmVudC5zY3NzIn0= */\";","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport { BarcodeFormat } from '@zxing/library';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'app-barcode-scanner-modal',\r\n    templateUrl: './barcode-scanner-modal.component.html',\r\n    styleUrls: ['./barcode-scanner-modal.component.scss'],\r\n})\r\nexport class BarcodeScannerModalComponent implements OnInit {\r\n\r\n    availableDevices: MediaDeviceInfo[];\r\n    currentDevice: MediaDeviceInfo = null;\r\n\r\n    formatsEnabled: BarcodeFormat[] = [\r\n        BarcodeFormat.CODE_128,\r\n        BarcodeFormat.DATA_MATRIX,\r\n        BarcodeFormat.EAN_13,\r\n        BarcodeFormat.QR_CODE,\r\n        BarcodeFormat.PDF_417,\r\n    ];\r\n\r\n    hasDevices: boolean;\r\n    hasPermission: boolean;\r\n\r\n    qrResultString: string;\r\n\r\n    torchEnabled = false;\r\n    torchAvailable$ = new BehaviorSubject<boolean>(false);\r\n    tryHarder = false;\r\n\r\n    qrScanned = false;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    clearResult(): void {\r\n        this.qrResultString = null;\r\n    }\r\n\r\n    onCamerasFound(devices: MediaDeviceInfo[]): void {\r\n        this.availableDevices = devices;\r\n        this.hasDevices = Boolean(devices && devices.length);\r\n    }\r\n\r\n    onCodeResult(resultString: string) {\r\n        console.log(resultString, this.qrResultString, this.qrScanned);\r\n    }\r\n\r\n    onDeviceSelectChange(selected: any) {\r\n        const device = this.availableDevices.find(x => x.deviceId === selected.target.value);\r\n        this.currentDevice = device || null;\r\n    }\r\n\r\n    onHasPermission(has: boolean) {\r\n        this.hasPermission = has;\r\n    }\r\n\r\n    onTorchCompatible(isCompatible: boolean): void {\r\n        this.torchAvailable$.next(isCompatible || false);\r\n    }\r\n\r\n    toggleTorch(): void {\r\n        this.torchEnabled = !this.torchEnabled;\r\n    }\r\n\r\n    toggleTryHarder(): void {\r\n        this.tryHarder = !this.tryHarder;\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { BarcodeScannerPage } from './barcode-scanner.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BarcodeScannerPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class BarcodeScannerPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { BarcodeScannerPageRoutingModule } from './barcode-scanner-routing.module';\r\n\r\nimport { BarcodeScannerPage } from './barcode-scanner.page';\r\nimport {SharedModule} from '../@shared/shared.module';\r\nimport {BarcodeScannerModalComponent} from \"./barcode-scanner-modal/barcode-scanner-modal.component\";\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    BarcodeScannerPageRoutingModule,\r\n    SharedModule,\r\n  ],\r\n  declarations: [\r\n      BarcodeScannerPage,\r\n      BarcodeScannerModalComponent,\r\n  ]\r\n})\r\nexport class BarcodeScannerPageModule {}\r\n","export default \"#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYmFyY29kZS1zY2FubmVyL2JhcmNvZGUtc2Nhbm5lci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxRQUFBO0VBQ0EsMkJBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLFNBQUE7QUFDRjs7QUFFQTtFQUNFLHFCQUFBO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9iYXJjb2RlLXNjYW5uZXIvYmFyY29kZS1zY2FubmVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNjb250YWluZXIge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogMDtcclxuICByaWdodDogMDtcclxuICB0b3A6IDUwJTtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbn1cclxuXHJcbiNjb250YWluZXIgc3Ryb25nIHtcclxuICBmb250LXNpemU6IDIwcHg7XHJcbiAgbGluZS1oZWlnaHQ6IDI2cHg7XHJcbn1cclxuXHJcbiNjb250YWluZXIgcCB7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAyMnB4O1xyXG4gIGNvbG9yOiAjOGM4YzhjO1xyXG4gIG1hcmdpbjogMDtcclxufVxyXG5cclxuI2NvbnRhaW5lciBhIHtcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuIl19 */\";","import {Component, OnInit} from '@angular/core';\r\nimport {BarcodeScanner} from '@ionic-native/barcode-scanner/ngx';\r\nimport {ModalController, Platform} from \"@ionic/angular\";\r\nimport {BarcodeScannerModalComponent} from \"./barcode-scanner-modal/barcode-scanner-modal.component\";\r\nimport {BarcodeFormat} from \"@zxing/library\";\r\nimport {SplitPanelService} from \"../@shared/services/split-panel.service\";\r\n\r\n\r\n@Component({\r\n    selector: 'app-barcode-scanner',\r\n    templateUrl: './barcode-scanner.page.html',\r\n    styleUrls: ['./barcode-scanner.page.scss'],\r\n})\r\nexport class BarcodeScannerPage implements OnInit {\r\n\r\n    public barcodeData: any;\r\n    public browserScanner = false;\r\n    public currentDevice: MediaDeviceInfo = null;\r\n    public formatsEnabled: BarcodeFormat[] = [\r\n        BarcodeFormat.CODE_128,\r\n        BarcodeFormat.DATA_MATRIX,\r\n        BarcodeFormat.EAN_13,\r\n        BarcodeFormat.QR_CODE,\r\n        BarcodeFormat.PDF_417,\r\n    ];\r\n\r\n    constructor(\r\n        private barcodeScanner: BarcodeScanner,\r\n        public platform: Platform,\r\n        public modalController: ModalController,\r\n        public splitPanel: SplitPanelService,\r\n    ) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    ionViewWillEnter() {\r\n        this.splitPanel.show.next(true);\r\n    }\r\n\r\n    scan() {\r\n        if (this.platform.is('desktop')) {\r\n            this.desktopScan();\r\n        }\r\n        if (this.platform.is('mobile')) {\r\n            this.mobileScan();\r\n        }\r\n    }\r\n\r\n    mobileScan() {\r\n        this.barcodeScanner.scan().then(barcodeData => {\r\n            console.log('Barcode data', barcodeData);\r\n            this.barcodeData = barcodeData;\r\n        }).catch(err => {\r\n            console.log('Error', err);\r\n        });\r\n    }\r\n\r\n    desktopScan() {\r\n        this.browserScanner = true;\r\n    }\r\n\r\n    dismiss() {\r\n        // using the injected ModalController this page\r\n        // can \"dismiss\" itself and optionally pass back data\r\n        this.modalController.dismiss({\r\n            'dismissed': true\r\n        });\r\n    }\r\n\r\n    onCodeResult(resultString: string) {\r\n        this.barcodeData = {\r\n            canceled: null,\r\n            text: resultString,\r\n            format: null,\r\n        }\r\n        this.browserScanner = false;\r\n        console.log(this.barcodeData);\r\n    }\r\n\r\n    onCodeError(err: any = null) {\r\n        this.barcodeData = {\r\n            canceled: null,\r\n            text: null,\r\n            format: null,\r\n        }\r\n        this.browserScanner = false;\r\n        console.log(err);\r\n    }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}