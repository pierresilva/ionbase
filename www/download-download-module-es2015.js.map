{"version":3,"sources":["./src/app/download/download.page.html","./src/app/download/download-routing.module.ts","./src/app/download/download.module.ts","./src/app/download/download.page.scss","./src/app/download/download.page.ts"],"names":[],"mappings":"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","file":"download-download-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>download</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-button (click)=\\\"downloadFileTransfer('http://www.africau.edu/images/default/sample.pdf', 'downloaded.pdf')\\\"\\n              fill=\\\"clear\\\">Download File\\n    <ion-icon slot=\\\"end\\\" name=\\\"qr-code-outline\\\"></ion-icon>\\n  </ion-button>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DownloadPage } from './download.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DownloadPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DownloadPageRoutingModule {}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\n\nimport {IonicModule} from '@ionic/angular';\n\nimport {DownloadPageRoutingModule} from './download-routing.module';\n\nimport {DownloadPage} from './download.page';\nimport {SharedModule} from '../@shared/shared.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        SharedModule,\n        DownloadPageRoutingModule\n    ],\n    declarations: [DownloadPage]\n})\nexport class DownloadPageModule {\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rvd25sb2FkL2Rvd25sb2FkLnBhZ2Uuc2NzcyJ9 */\";","import {Component, OnInit} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {Plugins} from '@capacitor/core';\nimport {ToastController} from '@ionic/angular';\nimport {FileTransferService} from \"../@shared/services/file-transfer.service\";\n\nconst {Filesystem} = Plugins;\n\n@Component({\n    selector: 'app-download',\n    templateUrl: './download.page.html',\n    styleUrls: ['./download.page.scss'],\n})\nexport class DownloadPage implements OnInit {\n\n    public device = null;\n\n    constructor(\n        public http: HttpClient,\n        public toastController: ToastController,\n        public fileTransfer: FileTransferService\n    ) {\n    }\n\n    ngOnInit() {\n\n    }\n\n    downloadFileTransfer(url: any, fileName: any) {\n        this.fileTransfer.download(url, fileName);\n    }\n\n    download(url: string): Observable<Blob> {\n        return this.http.get(url, {\n            responseType: 'blob'\n        });\n    }\n\n    downloadFile(url, fileName) {\n        this.download(url)\n            .subscribe(blob => {\n                const reader = new FileReader();\n                reader.readAsDataURL(blob);\n                reader.onloadend = () => {\n                    let base64data: any;\n                    base64data = reader.result;\n                    Plugins.Filesystem.appendFile({\n                        data: base64data,\n                        path: 'images/image.png'\n                    })\n                        .then(res => {\n                            console.log('se escribiooo', res);\n                            this.presentToastWithOptions();\n                        });\n                };\n\n                // const a = document.createElement('a');\n                // const objectUrl = URL.createObjectURL(blob);\n                // console.log(blob, objectUrl);\n                // a.href = objectUrl;\n                // a.download = fileName;\n                // a.click();\n                // URL.revokeObjectURL(objectUrl);\n            });\n    }\n\n    async presentToastWithOptions() {\n        const toast = await this.toastController.create({\n            header: 'Toast header',\n            message: 'Click to Close',\n            position: 'top',\n            buttons: [\n                {\n                    side: 'start',\n                    icon: 'star',\n                    text: 'Favorite',\n                    handler: () => {\n                        console.log('Favorite clicked');\n                    }\n                }, {\n                    text: 'Done',\n                    role: 'cancel',\n                    handler: () => {\n                        console.log('Cancel clicked');\n                    }\n\n                }\n            ]\n        });\n        toast.present();\n    }\n\n}\n"],"sourceRoot":"webpack:///"}