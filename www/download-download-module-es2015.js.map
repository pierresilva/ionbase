{"version":3,"sources":["./src/app/download/download.page.html","./src/app/download/download-routing.module.ts","./src/app/download/download.module.ts","./src/app/download/download.page.scss","./src/app/download/download.page.ts"],"names":[],"mappings":"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","file":"download-download-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>download</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <ion-button (click)=\\\"downloadFileTransfer('http://www.africau.edu/images/default/sample.pdf', 'downloaded.pdf')\\\"\\r\\n              fill=\\\"clear\\\">Download File\\r\\n    <ion-icon slot=\\\"end\\\" name=\\\"qr-code-outline\\\"></ion-icon>\\r\\n  </ion-button>\\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { DownloadPage } from './download.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DownloadPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class DownloadPageRoutingModule {}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\n\r\nimport {IonicModule} from '@ionic/angular';\r\n\r\nimport {DownloadPageRoutingModule} from './download-routing.module';\r\n\r\nimport {DownloadPage} from './download.page';\r\nimport {SharedModule} from '../@shared/shared.module';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        IonicModule,\r\n        SharedModule,\r\n        DownloadPageRoutingModule\r\n    ],\r\n    declarations: [DownloadPage]\r\n})\r\nexport class DownloadPageModule {\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rvd25sb2FkL2Rvd25sb2FkLnBhZ2Uuc2NzcyJ9 */\";","import {Component, OnInit} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {Plugins} from '@capacitor/core';\r\nimport {ToastController} from '@ionic/angular';\r\nimport {FileTransferService} from \"../@shared/services/file-transfer.service\";\r\n\r\nconst {Filesystem} = Plugins;\r\n\r\n@Component({\r\n    selector: 'app-download',\r\n    templateUrl: './download.page.html',\r\n    styleUrls: ['./download.page.scss'],\r\n})\r\nexport class DownloadPage implements OnInit {\r\n\r\n    public device = null;\r\n\r\n    constructor(\r\n        public http: HttpClient,\r\n        public toastController: ToastController,\r\n        public fileTransfer: FileTransferService\r\n    ) {\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    downloadFileTransfer(url: any, fileName: any) {\r\n        this.fileTransfer.download(url, fileName);\r\n    }\r\n\r\n    download(url: string): Observable<Blob> {\r\n        return this.http.get(url, {\r\n            responseType: 'blob'\r\n        });\r\n    }\r\n\r\n    downloadFile(url, fileName) {\r\n        this.download(url)\r\n            .subscribe(blob => {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(blob);\r\n                reader.onloadend = () => {\r\n                    let base64data: any;\r\n                    base64data = reader.result;\r\n                    Plugins.Filesystem.appendFile({\r\n                        data: base64data,\r\n                        path: 'images/image.png'\r\n                    })\r\n                        .then(res => {\r\n                            console.log('se escribiooo', res);\r\n                            this.presentToastWithOptions();\r\n                        });\r\n                };\r\n\r\n                // const a = document.createElement('a');\r\n                // const objectUrl = URL.createObjectURL(blob);\r\n                // console.log(blob, objectUrl);\r\n                // a.href = objectUrl;\r\n                // a.download = fileName;\r\n                // a.click();\r\n                // URL.revokeObjectURL(objectUrl);\r\n            });\r\n    }\r\n\r\n    async presentToastWithOptions() {\r\n        const toast = await this.toastController.create({\r\n            header: 'Toast header',\r\n            message: 'Click to Close',\r\n            position: 'top',\r\n            buttons: [\r\n                {\r\n                    side: 'start',\r\n                    icon: 'star',\r\n                    text: 'Favorite',\r\n                    handler: () => {\r\n                        console.log('Favorite clicked');\r\n                    }\r\n                }, {\r\n                    text: 'Done',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        console.log('Cancel clicked');\r\n                    }\r\n\r\n                }\r\n            ]\r\n        });\r\n        toast.present();\r\n    }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}