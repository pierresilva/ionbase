{"version":3,"sources":["webpack:///src/app/download/download.page.html","webpack:///src/app/download/download-routing.module.ts","webpack:///src/app/download/download.module.ts","webpack:///src/app/download/download.page.scss","webpack:///src/app/download/download.page.ts"],"names":["routes","path","component","DownloadPageRoutingModule","imports","forChild","exports","DownloadPageModule","declarations","Filesystem","DownloadPage","http","toastController","fileTransfer","device","url","fileName","download","get","responseType","subscribe","blob","reader","FileReader","readAsDataURL","onloadend","base64data","result","appendFile","data","then","res","console","log","presentToastWithOptions","create","header","message","position","buttons","side","icon","text","handler","role","toast","present","selector","template"],"mappings":"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","file":"download-download-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>download</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-button (click)=\\\"downloadFileTransfer('http://www.africau.edu/images/default/sample.pdf', 'downloaded.pdf')\\\"\\n              fill=\\\"clear\\\">Download File\\n    <ion-icon slot=\\\"end\\\" name=\\\"qr-code-outline\\\"></ion-icon>\\n  </ion-button>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DownloadPage } from './download.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DownloadPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DownloadPageRoutingModule {}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\n\nimport {IonicModule} from '@ionic/angular';\n\nimport {DownloadPageRoutingModule} from './download-routing.module';\n\nimport {DownloadPage} from './download.page';\nimport {SharedModule} from '../@shared/shared.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        SharedModule,\n        DownloadPageRoutingModule\n    ],\n    declarations: [DownloadPage]\n})\nexport class DownloadPageModule {\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rvd25sb2FkL2Rvd25sb2FkLnBhZ2Uuc2NzcyJ9 */\";","import {Component, OnInit} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {Plugins} from '@capacitor/core';\nimport {ToastController} from '@ionic/angular';\nimport {FileTransferService} from \"../@shared/services/file-transfer.service\";\n\nconst {Filesystem} = Plugins;\n\n@Component({\n    selector: 'app-download',\n    templateUrl: './download.page.html',\n    styleUrls: ['./download.page.scss'],\n})\nexport class DownloadPage implements OnInit {\n\n    public device = null;\n\n    constructor(\n        public http: HttpClient,\n        public toastController: ToastController,\n        public fileTransfer: FileTransferService\n    ) {\n    }\n\n    ngOnInit() {\n\n    }\n\n    downloadFileTransfer(url: any, fileName: any) {\n        this.fileTransfer.download(url, fileName);\n    }\n\n    download(url: string): Observable<Blob> {\n        return this.http.get(url, {\n            responseType: 'blob'\n        });\n    }\n\n    downloadFile(url, fileName) {\n        this.download(url)\n            .subscribe(blob => {\n                const reader = new FileReader();\n                reader.readAsDataURL(blob);\n                reader.onloadend = () => {\n                    let base64data: any;\n                    base64data = reader.result;\n                    Plugins.Filesystem.appendFile({\n                        data: base64data,\n                        path: 'images/image.png'\n                    })\n                        .then(res => {\n                            console.log('se escribiooo', res);\n                            this.presentToastWithOptions();\n                        });\n                };\n\n                // const a = document.createElement('a');\n                // const objectUrl = URL.createObjectURL(blob);\n                // console.log(blob, objectUrl);\n                // a.href = objectUrl;\n                // a.download = fileName;\n                // a.click();\n                // URL.revokeObjectURL(objectUrl);\n            });\n    }\n\n    async presentToastWithOptions() {\n        const toast = await this.toastController.create({\n            header: 'Toast header',\n            message: 'Click to Close',\n            position: 'top',\n            buttons: [\n                {\n                    side: 'start',\n                    icon: 'star',\n                    text: 'Favorite',\n                    handler: () => {\n                        console.log('Favorite clicked');\n                    }\n                }, {\n                    text: 'Done',\n                    role: 'cancel',\n                    handler: () => {\n                        console.log('Cancel clicked');\n                    }\n\n                }\n            ]\n        });\n        toast.present();\n    }\n\n}\n"]}